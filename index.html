<html>
  <!-- See also: http://kempe.net/blog/2014/06/14/leaflet-pan-zoom-image.html -->
  <head>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"></script>
    <style>
    #image-map {
      width: 100%;
      height: 100%;
      border: 1px solid #ccc;
      margin-bottom: 10px;
    }
.leaflet-container {
    background-color: #3a3a3a;
}
    </style>
  </head>
  <body>
    <div id="image-map"></div>

    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script>
    // Using leaflet.js to pan and zoom a big image.
    // create the slippy map
    var map = L.map('image-map', {
      minZoom: 1.5,
      maxZoom: 5,
      center: [0, 0],
      zoom: 1,
      zoomControl: false,
      crs: L.CRS.Simple
    });

    // dimensions of the image
    var w = 6538,
        h = 6522,
        landscape = 'fallout76map_full.jpg';
	zones = 'fallout76map_full_zones.jpg';
    // calculate the edges of the image, in coordinate space
    var southWest = map.unproject([0, h], map.getMaxZoom()-1);
    var northEast = map.unproject([w, 0], map.getMaxZoom()-1);
    var bounds = new L.LatLngBounds(southWest, northEast);

    // add the image overlay, 
    // so that it covers the entire map
    landscapeMap = L.imageOverlay(landscape, bounds).addTo(map);
	
    // tell leaflet that the map is exactly as big as the image
    map.setMaxBounds(bounds);

    L.control.zoom({
	position:'topright'
    }).addTo(map);

	// test toggle
	function toggleOverlay(e){
		// if landscape, remove and add zones
		if (map.hasLayer(landscapeMap)){
			map.removeLayer(landscapeMap);
			zonesMap = L.imageOverlay(zones, bounds).addTo(map);
		}
		else{
			map.removeLayer(zonesMap);
			landscapeMap = L.imageOverlay(landscape, bounds).addTo(map);
		}
	}
	map.on('click', toggleOverlay);
    </script>
  </body>
</html>
